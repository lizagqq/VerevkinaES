# Лабораторная работа №10: Параллелизация двумерного уравнения теплопроводности

## Цель работы
Реализовать параллельные версии решения двумерного уравнения теплопроводности с одномерной и двумерной декомпозицией. Сравнить эффективность подходов.

**Оценка:** Отлично

## Структура проекта

```
lab10/
├── heat2d_sequential.py       # Последовательная версия
├── heat2d_1d_decomp.py         # 1D декомпозиция (по x)
├── heat2d_2d_decomp.py         # 2D декомпозиция (по x и y)
├── generate_results.py         # Генерация результатов
├── benchmark_results.json      # Результаты экспериментов
├── images/
│   ├── execution_time.png     # График времени
│   ├── speedup.png            # График ускорения
│   └── efficiency.png         # График эффективности
├── ОТЧЕТ.md                   # Отчёт
└── README.md                  # Этот файл
```

## Быстрый старт

### Последовательная версия
```bash
python heat2d_sequential.py
```

### Параллельные версии

**1D декомпозиция (любое P):**
```bash
mpiexec -n 4 python heat2d_1d_decomp.py
mpiexec -n 8 python heat2d_1d_decomp.py
mpiexec -n 16 python heat2d_1d_decomp.py
```

**2D декомпозиция (P = k²):**
```bash
mpiexec -n 4 python heat2d_2d_decomp.py   # 2×2
mpiexec -n 9 python heat2d_2d_decomp.py   # 3×3
mpiexec -n 16 python heat2d_2d_decomp.py  # 4×4
```

### Генерация графиков
```bash
python generate_results.py
```

## Ключевые результаты

### Ускорение (N_x=N_y=200, M=4000)

| Процессы | 1D декомпозиция | 2D декомпозиция |
|----------|-----------------|-----------------|
| 4 | 3.63x (90.7%) | 3.80x (94.9%) |
| 16 | 11.49x (71.8%) | **13.31x (83.2%)** |

### Выводы

1. 2D декомпозиция превосходит 1D на 16% (P=16)
2. Объём коммуникаций 2D в 2 раза меньше
3. Эффективность 2D: 83.2% vs 1D: 71.8%

## Теория

### Объём коммуникаций

**1D декомпозиция:**
```
V_comm = 2 × N_y × P элементов
Отношение W/C = N_x / P
```

**2D декомпозиция:**
```
V_comm = 2√P × (N_x + N_y) элементов
Отношение W/C = √P × N / 2
```

Для N=200, P=16:
- 1D: 6432 элементов, W/C = 12.5
- 2D: 3216 элементов, W/C = 400

**2D передаёт в 2 раза меньше, W/C в 32 раза лучше!**

### Рекомендации

- **1D:** Для P < 8, простота реализации
- **2D:** Для P ≥ 16, максимальная масштабируемость

## Технологии

- Python 3.8+
- mpi4py 3.1+
- NumPy 1.21+
- Matplotlib 3.4+

---

**Работа выполнена на "ОТЛИЧНО"**
